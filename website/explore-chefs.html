<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-999Q8EMQJM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-999Q8EMQJM');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Chefs - Maharaja Chef Services</title>
    <meta name="description" content="Find and book personal chefs in California. Search by city, cuisine, and dietary preferences.">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1><a href="index.html" style="text-decoration: none; color: inherit;"><img src="images/logo.jpg" alt="Maharaja Chef Services Logo" style="height: 90px;"></a></h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="explore-chefs.html">Explore Chefs</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li class="dropdown">
                    <a href="chef-services.html"> Services <span class="dropdown-arrow">▼</span></a>
                    <ul class="dropdown-menu">
                        <li><a href="weekly-meals.html">Weekly Meal Service</a></li>
                        <li><a href="special-events.html">Special Events & Gatherings</a></li>
                    </ul>
                </li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contact-us.html">Contact Us</a></li>
                <li class="dropdown">
                    <a href="#">Explore More <span class="dropdown-arrow">▼</span></a>
                    <ul class="dropdown-menu">
                        <li><a href="about-us.html">About Us</a></li>
                        <li><a href="blogs.html">Blogs</a></li>
                        <li><a href="book-a-chef.html">Book a Chef</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-conditions.html">Terms & Conditions</a></li>
                        <li><a href="refund-policy.html">Refund Policy</a></li>
                    </ul>
                </li>
                <li><a href="owner.html">Business Owner</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="explore-chefs">
            <h1>Explore Chefs</h1>
            <div class="search-filters">
                <div class="filter-group">
                    <label for="location-search">Location</label>
                    <input type="text" id="location-search" placeholder="Enter City or ZIP Code" class="filter-input">
                </div>
                <div class="filter-group">
                    <label for="cuisine-search">Cuisine</label>
                    <select id="cuisine-search" class="filter-select">
                        <option value="">Select Cuisine</option>
                        <option value="american">American</option>
                        <option value="indian">Indian</option>
                        <option value="italian">Italian</option>
                        <option value="mexican">Mexican</option>
                        <option value="asian">Asian</option>
                        <option value="vegan">Vegan</option>
                        <option value="fusion">Fusion</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="dietary-search">Dietary Needs</label>
                    <select id="dietary-search" class="filter-select">
                        <option value="">Select Dietary Needs</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="vegan">Vegan</option>
                        <option value="keto">Keto</option>
                        <option value="gluten-free">Gluten-Free</option>
                        <option value="dairy-free">Dairy-Free</option>
                        <option value="low-carb">Low-Carb</option>
                    </select>
                </div>
                <div class="filter-group">
                    <button type="button" id="search-chefs-btn" class="btn search-btn">Search Chefs</button>
                </div>
            </div>
            <div id="no-results" style="display: none; text-align: center; padding: 40px; font-size: 1.2rem; color: #666;">No chefs found matching your criteria.</div>
            <div class="chef-cards">
                <div class="chef-card" data-location="california" data-cuisine="indian" data-diet="vegetarian,vegan,gluten-free">
                    <img src="images/chef1.jpg" alt="Chef Rajesh Kumar">
                    <h3>Rajesh Kumar</h3>
                    <a href="chef-profile-rajesh.html" class="btn">View Profile</a>
                    <a href="book-a-chef.html" class="btn btn-secondary">Book Now</a>
                </div>
                <div class="chef-card" data-location="california" data-cuisine="mexican" data-diet="vegetarian,gluten-free">
                    <img src="images/chef2.jpg" alt="Chef Maria Rodriguez">
                    <h3>Maria Rodriguez</h3>
                    <a href="chef-profile-maria.html" class="btn">View Profile</a>
                    <a href="book-a-chef.html" class="btn btn-secondary">Book Now</a>
                </div>
                <div class="chef-card" data-location="california" data-cuisine="asian" data-diet="vegetarian,vegan,keto">
                    <img src="images/chef3.jpg" alt="Chef James Chen">
                    <h3>James Chen</h3>
                    <a href="chef-profile-james.html" class="btn">View Profile</a>
                    <a href="book-a-chef.html" class="btn btn-secondary">Book Now</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Maharaja Chef Services</h3>
                <p>Premium personal chef services across the USA. Bringing restaurant-quality dining to your home.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="chef-services.html">Services</a></li>
                    <li><a href="explore-chefs.html">Explore Chefs</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Legal</h3>
                <ul>
                    <li><a href="terms-conditions.html">Terms & Conditions</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="refund-policy.html">Refund Policy</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Us</h3>
                <div class="contact-info" style="color: #333;">
                    <p><i class="fas fa-phone"></i> +1 (669) 260-3819</p>
                    <p><i class="fas fa-envelope"></i> info@maharajachef.com</p>
                </div>
                <div class="social-media">
                    <a href="https://www.instagram.com/maharajachef/?hl=en" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="https://facebook.com" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
        </div>
        <hr>
        <div class="footer-bottom">
            <p>&copy; 2024 Maharaja Chef Services. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        const API_URL = 'https://fated6vcp8.execute-api.us-east-1.amazonaws.com/prod'; // Replace with actual API URL

        // Function to fetch chefs from backend
        async function fetchChefs() {
            try {
                const response = await fetch(`${API_URL}/chefs`);
                if (!response.ok) {
                    throw new Error('Failed to fetch chefs');
                }
                const chefs = await response.json();
                return chefs;
            } catch (error) {
                console.error('Error fetching chefs:', error);
                return [];
            }
        }

        // Function to create chef card HTML
        function createChefCard(chef) {
            const chefCard = document.createElement('div');
            chefCard.className = 'chef-card';
            chefCard.setAttribute('data-location', chef.location.toLowerCase());
            chefCard.setAttribute('data-cuisine', chef.cuisine.toLowerCase());
            chefCard.setAttribute('data-diet', chef.dietaryTags ? chef.dietaryTags.join(',').toLowerCase() : '');

            chefCard.innerHTML = `
                <img src="${chef.imageUrl || 'images/chef1.jpg'}" alt="${chef.name}">
                <h3>${chef.name}</h3>
                <a href="book-a-chef.html" class="btn">View Profile</a>
                <a href="book-a-chef.html" class="btn btn-secondary">Book Now</a>
            `;

            return chefCard;
        }

        // Function to display chefs
        function displayChefs(chefs) {
            const chefCardsContainer = document.querySelector('.chef-cards');
            const noResults = document.getElementById('no-results');

            // Clear existing chef cards
            chefCardsContainer.innerHTML = '';

            if (chefs.length === 0) {
                noResults.style.display = 'block';
                chefCardsContainer.style.display = 'none';
                return;
            }

            // Add each chef to the container
            chefs.forEach(chef => {
                const chefCard = createChefCard(chef);
                chefCardsContainer.appendChild(chefCard);
            });

            noResults.style.display = 'none';
            chefCardsContainer.style.display = 'grid';
        }

        // Function to load chefs on page load
        async function loadChefs() {
            const chefs = await fetchChefs();
            displayChefs(chefs);

            // Add event listener for search button
            const searchChefsBtn = document.getElementById('search-chefs-btn');
            if (searchChefsBtn) {
                searchChefsBtn.addEventListener('click', function() {
                    performChefSearch(chefs);
                });
            }

            // Also trigger search on Enter key in input fields
            const searchInputs = document.querySelectorAll('#location-search, #cuisine-search, #dietary-search');
            searchInputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performChefSearch(chefs);
                    }
                });
            });
        }

        // Modified search function to work with dynamic data
        function performChefSearch(allChefs) {
            const location = document.getElementById('location-search').value.trim().toLowerCase();
            const cuisine = document.getElementById('cuisine-search').value;
            const dietary = document.getElementById('dietary-search').value;

            const chefCardsContainer = document.querySelector('.chef-cards');
            const noResults = document.getElementById('no-results');

            // Filter chefs based on search criteria
            const filteredChefs = allChefs.filter(chef => {
                let matches = true;

                // Location filter
                if (location && location !== '') {
                    const chefLocation = chef.location.toLowerCase();
                    const validLocations = ['california', 'ca', 'san jose', 'san francisco', 'los angeles', 'la', 'sacramento', 'fresno', 'bakersfield'];
                    if (!validLocations.some(loc => loc.includes(location) || location.includes(loc))) {
                        matches = false;
                    }
                }

                // Cuisine filter
                if (cuisine && cuisine !== '') {
                    if (chef.cuisine.toLowerCase() !== cuisine.toLowerCase()) {
                        matches = false;
                    }
                }

                // Dietary filter
                if (dietary && dietary !== '') {
                    const chefDiet = chef.dietaryTags ? chef.dietaryTags.join(',').toLowerCase() : '';
                    if (!chefDiet.includes(dietary.toLowerCase())) {
                        matches = false;
                    }
                }

                return matches;
            });

            displayChefs(filteredChefs);

            // Provide user feedback
            const feedback = document.createElement('div');
            feedback.id = 'search-feedback';
            feedback.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: #007bff;
                color: white;
                padding: 10px 20px;
                border-radius: 4px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                z-index: 1000;
                opacity: 0;
                transform: translateY(-20px);
                transition: all 0.3s ease;
            `;

            // Remove existing feedback
            const existingFeedback = document.getElementById('search-feedback');
            if (existingFeedback) {
                existingFeedback.remove();
            }

            feedback.textContent = `Found ${filteredChefs.length} chef${filteredChefs.length !== 1 ? 's' : ''} matching your criteria`;
            document.body.appendChild(feedback);

            // Animate feedback
            setTimeout(() => {
                feedback.style.opacity = '1';
                feedback.style.transform = 'translateY(0)';
            }, 100);

            // Remove feedback after 3 seconds
            setTimeout(() => {
                feedback.style.opacity = '0';
                feedback.style.transform = 'translateY(-20px)';
                setTimeout(() => feedback.remove(), 300);
            }, 3000);
        }

        // Function to reset search
        function resetSearch() {
            document.getElementById('location-search').value = '';
            document.getElementById('cuisine-search').value = '';
            document.getElementById('dietary-search').value = '';

            // Reload chefs to show all
            loadChefs();
        }

        // Load chefs when page is loaded
        document.addEventListener('DOMContentLoaded', loadChefs);
    </script>
</body>
</html>
